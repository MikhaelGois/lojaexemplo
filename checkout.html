<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finalizar Compra - Ana's Beauty</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="top-bar">
            <div class="container">
                <div class="top-bar-content">
                    <span><i class="fas fa-truck"></i> Frete Grátis acima de R$ 199</span>
                    <span><i class="fas fa-gift"></i> Ganhe 10% OFF na primeira compra</span>
                </div>
            </div>
        </div>
        
        <nav class="navbar">
            <div class="container">
                <div class="nav-content">
                    <div class="logo">
                    <h1>Ana's Beauty</h1>
                    </div>
                    
                    <div class="nav-actions">
                        <a href="login.html" id="user-btn" class="nav-btn">
                            <i class="fas fa-user"></i>
                            <span id="user-name">Entrar</span>
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="checkout-page">
        <div class="container">
            <h1>Finalizar Compra</h1>

            <!-- Progress Steps -->
            <div class="checkout-steps">
                <div class="step completed">
                    <span class="step-number">1</span>
                    <span class="step-label">Carrinho</span>
                </div>
                <div class="step active" id="step-identification">
                    <span class="step-number">2</span>
                    <span class="step-label">Identificação</span>
                </div>
                <div class="step" id="step-payment">
                    <span class="step-number">3</span>
                    <span class="step-label">Pagamento</span>
                </div>
                <div class="step" id="step-confirmation">
                    <span class="step-number">4</span>
                    <span class="step-label">Confirmação</span>
                </div>
            </div>

            <div class="checkout-container">
                <!-- Checkout Main Content -->
                <div class="checkout-main">
                    <!-- Identification Section -->
                    <section class="checkout-section" id="identification-section">
                        <h2><i class="fas fa-user"></i> Identificação</h2>
                        
                        <div class="user-info" id="logged-user-info" style="display: none;">
                            <p><strong>Nome:</strong> <span id="checkout-user-name"></span></p>
                            <p><strong>E-mail:</strong> <span id="checkout-user-email"></span></p>
                        </div>

                        <div id="guest-checkout" style="display: none;">
                            <p>Por favor, <a href="login.html">faça login</a> para continuar.</p>
                        </div>
                    </section>

                    <!-- Delivery Address Section -->
                    <section class="checkout-section" id="address-section">
                        <h2><i class="fas fa-map-marker-alt"></i> Endereço de Entrega</h2>
                        
                        <form id="address-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cep">CEP</label>
                                    <input type="text" id="cep" placeholder="00000-000" required>
                                    <small><a href="https://buscacepinter.correios.com.br/app/endereco/index.php" target="_blank">Não sei meu CEP</a></small>
                                </div>
                                <div class="form-group"></div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="street">Endereço</label>
                                    <input type="text" id="street" required>
                                </div>
                                <div class="form-group form-group-small">
                                    <label for="number">Número</label>
                                    <input type="text" id="number" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="complement">Complemento</label>
                                    <input type="text" id="complement">
                                </div>
                                <div class="form-group">
                                    <label for="neighborhood">Bairro</label>
                                    <input type="text" id="neighborhood" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="city">Cidade</label>
                                    <input type="text" id="city" required>
                                </div>
                                <div class="form-group form-group-small">
                                    <label for="state">Estado</label>
                                    <select id="state" required>
                                        <option value="">UF</option>
                                        <option value="SP">SP</option>
                                        <option value="RJ">RJ</option>
                                        <option value="MG">MG</option>
                                        <option value="ES">ES</option>
                                    </select>
                                </div>
                            </div>

                            <button type="button" class="btn btn-primary" id="continue-payment">
                                Continuar para Pagamento
                            </button>
                        </form>
                    </section>

                    <!-- Payment Section -->
                    <section class="checkout-section" id="payment-section" style="display: none;">
                        <h2><i class="fas fa-credit-card"></i> Forma de Pagamento</h2>
                        
                        <div class="payment-methods">
                            <div class="payment-option">
                                <input type="radio" id="payment-credit" name="payment-method" value="credit" checked>
                                <label for="payment-credit">
                                    <i class="fas fa-credit-card"></i>
                                    <span>Cartão de Crédito</span>
                                </label>
                            </div>

                            <div class="payment-option">
                                <input type="radio" id="payment-pix" name="payment-method" value="pix">
                                <label for="payment-pix">
                                    <i class="fab fa-pix"></i>
                                    <span>PIX</span>
                                    <small>Aprovação imediata</small>
                                </label>
                            </div>

                            <div class="payment-option">
                                <input type="radio" id="payment-boleto" name="payment-method" value="boleto">
                                <label for="payment-boleto">
                                    <i class="fas fa-barcode"></i>
                                    <span>Boleto Bancário</span>
                                    <small>Vencimento em 3 dias</small>
                                </label>
                            </div>
                        </div>

                        <!-- Credit Card Form -->
                        <div id="credit-card-form" class="payment-form">
                            <div class="form-group">
                                <label for="card-number">Número do Cartão</label>
                                <input type="text" id="card-number" placeholder="0000 0000 0000 0000" maxlength="19" required>
                            </div>

                            <div class="form-group">
                                <label for="card-name">Nome no Cartão</label>
                                <input type="text" id="card-name" placeholder="Como está no cartão" required>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="card-expiry">Validade</label>
                                    <input type="text" id="card-expiry" placeholder="MM/AA" maxlength="5" required>
                                </div>
                                <div class="form-group">
                                    <label for="card-cvv">CVV</label>
                                    <input type="text" id="card-cvv" placeholder="000" maxlength="4" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="installments">Parcelamento</label>
                                <select id="installments" required>
                                    <option value="1">1x sem juros</option>
                                    <option value="2">2x sem juros</option>
                                    <option value="3">3x sem juros</option>
                                    <option value="4">4x sem juros</option>
                                    <option value="5">5x sem juros</option>
                                    <option value="6">6x sem juros</option>
                                </select>
                            </div>
                        </div>

                        <!-- PIX Form -->
                        <div id="pix-form" class="payment-form" style="display: none;">
                            <div class="pix-info">
                                <p>Após confirmar, você receberá o QR Code para pagamento.</p>
                                <p><strong>Importante:</strong> O pagamento via PIX é processado instantaneamente.</p>
                            </div>
                        </div>

                        <!-- Boleto Form -->
                        <div id="boleto-form" class="payment-form" style="display: none;">
                            <div class="boleto-info">
                                <p>Após confirmar, o boleto será gerado e enviado para seu e-mail.</p>
                                <p><strong>Atenção:</strong> O prazo de entrega começa a contar após a confirmação do pagamento (até 2 dias úteis).</p>
                            </div>
                        </div>

                        <button type="button" class="btn btn-primary btn-large" id="finalize-order">
                            <i class="fas fa-lock"></i> Finalizar Pedido
                        </button>
                    </section>

                    <!-- Confirmation Section -->
                    <section class="checkout-section confirmation-section" id="confirmation-section" style="display: none;">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2>Pedido Realizado com Sucesso!</h2>
                        <p class="order-number">Número do pedido: <strong id="order-number"></strong></p>
                        
                        <div class="order-summary-box" id="confirmation-details">
                            <!-- Detalhes do pedido serão carregados via JavaScript -->
                        </div>

                        <div id="pix-qrcode" class="pix-payment-info" style="display: none;">
                            <h3>Pagamento via PIX</h3>
                            <div class="qrcode-container">
                                <div class="qrcode-placeholder">
                                    <i class="fab fa-pix"></i>
                                    <p>QR Code PIX</p>
                                </div>
                            </div>
                            <div class="pix-code">
                                <p>Código PIX Copia e Cola:</p>
                                <div class="code-box">
                                    <code id="pix-code-value"></code>
                                    <button class="btn-copy" id="copy-pix-code">
                                        <i class="fas fa-copy"></i> Copiar
                                    </button>
                                </div>
                            </div>
                            <p class="pix-instructions">O pedido será processado assim que o pagamento for confirmado.</p>
                        </div>

                        <div id="boleto-info" class="boleto-payment-info" style="display: none;">
                            <h3>Boleto Bancário</h3>
                            <p>O boleto foi enviado para seu e-mail e também pode ser baixado abaixo:</p>
                            <button class="btn btn-secondary" id="download-boleto">
                                <i class="fas fa-download"></i> Baixar Boleto
                            </button>
                            <p class="boleto-instructions">O pedido será processado após a confirmação do pagamento (até 2 dias úteis).</p>
                        </div>

                        <div class="confirmation-actions">
                            <a href="pedidos.html" class="btn btn-primary">Ver Meus Pedidos</a>
                            <a href="index.html" class="btn btn-secondary">Voltar para Home</a>
                        </div>
                    </section>
                </div>

                <!-- Order Summary Sidebar -->
                <aside class="order-summary-sidebar">
                    <h3>Resumo do Pedido</h3>
                    
                    <div class="summary-items" id="checkout-items">
                        <!-- Produtos serão carregados via JavaScript -->
                    </div>

                    <div class="summary-details">
                        <div class="summary-line">
                            <span>Subtotal</span>
                            <span id="checkout-subtotal">R$ 0,00</span>
                        </div>

                        <div class="summary-line" id="checkout-discount-line" style="display: none;">
                            <span>Desconto</span>
                            <span class="discount-value" id="checkout-discount">- R$ 0,00</span>
                        </div>

                        <div class="summary-line">
                            <span>Frete</span>
                            <span id="checkout-shipping">R$ 0,00</span>
                        </div>

                        <div class="summary-divider"></div>

                        <div class="summary-total">
                            <span>Total</span>
                            <span id="checkout-total">R$ 0,00</span>
                        </div>
                    </div>

                    <div class="security-badges">
                        <p><i class="fas fa-shield-alt"></i> Compra 100% segura</p>
                        <p><i class="fas fa-lock"></i> Dados protegidos</p>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2025 Ana's Beauty - Todos os direitos reservados</p>
                <div class="payment-methods">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-amex"></i>
                    <i class="fab fa-pix"></i>
                    <i class="fas fa-barcode"></i>
                </div>
            </div>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
